# ============================================
# Micro-Gestion Facile - Configuration Recommand√©e
# ============================================
# üîê S√âCURIT√â: Ce guide d√©taille la meilleure pratique
# pour configurer votre application en production

# ============================================
# üéØ Mode Setup
# ============================================

# Pour un setup LOCAL (d√©veloppement):
# 1. Copier .env.example en .env.local
# 2. Remplir les cl√©s API n√©cessaires
# 3. .env.local est automatiquement ignor√© par git

# Pour PRODUCTION:
# 1. Utiliser les secrets du CI/CD (GitHub, GitLab)
# 2. NE PAS cr√©er de fichier .env local
# 3. Tout passe par les variables d'environnement du serveur

# ============================================
# üìã Checklist S√©curit√©
# ============================================

# [ ] Cl√© Gemini API : G√©n√©rer une NOUVELLE cl√©
#     ‚Üí https://aistudio.google.com/app/apikey
#     ‚Üí Jamais r√©utiliser une cl√© de dev en prod

# [ ] Encryption Master Key: Auto-g√©n√©r√©e depuis User ID
#     ‚Üí Pas besoin de la cr√©er manuellement

# [ ] Backup S3 (optionnel): Tester la connexion
#     ‚Üí Utiliser des credentials temporaires
#     ‚Üí Rotation des cl√©s tous les 90 jours

# [ ] Sentry DSN (optionnel): Pour les erreurs en prod
#     ‚Üí NE PAS ignorer les erreurs de s√©curit√©
#     ‚Üí Configurer les alerts

# [ ] HTTPS/TLS: Toujours en production
#     ‚Üí Les donn√©es chiffr√©es ne suffisent pas
#     ‚Üí TLS emp√™che l'interception en transit

# ============================================
# üîë Gestion des Secrets
# ============================================

# ‚úÖ BONNES PRATIQUES:

# 1. Rotation r√©guli√®re
#    - Gemini API: Tous les 6 mois
#    - S3 Credentials: Tous les 3 mois
#    - Master Encryption Key: Au changement de mot de passe

# 2. Stockage secure
#    - GitHub: Utiliser Settings > Secrets
#    - GitLab: Utiliser CI/CD > Variables
#    - Self-hosted: Utiliser HashiCorp Vault / AWS Secrets Manager

# 3. Audit & Logs
#    - Chaque acc√®s √† une cl√© doit √™tre logg√©
#    - R√©vision des logs tous les mois
#    - Alertes sur changements de cl√©s

# ‚ùå √Ä √âVITER ABSOLUMENT:

# - Stocker des cl√©s en clair dans le repo
# - Utiliser les m√™mes cl√©s dev/prod
# - Coder en dur les cl√©s en JS
# - Partager les cl√©s entre d√©veloppeurs
# - Faire des commits avec cl√©s en clair

# ============================================
# üåç Environnements
# ============================================

# === D√âVELOPPEMENT (dev)
# VITE_LOG_LEVEL=debug
# VITE_DEMO_MODE=true
# VITE_MOCK_API=true
# VITE_GEMINI_API_KEY=test-key-dev
# VITE_S3_ENABLED=false

# === STAGING (staging)
# VITE_LOG_LEVEL=info
# VITE_DEMO_MODE=false
# VITE_MOCK_API=false
# VITE_GEMINI_API_KEY=<securely-injected>
# VITE_S3_ENABLED=true
# VITE_SENTRY_ENVIRONMENT=staging

# === PRODUCTION (prod)
# VITE_LOG_LEVEL=error        ‚Üê R√©duire le bruit
# VITE_DEMO_MODE=false
# VITE_MOCK_API=false
# VITE_GEMINI_API_KEY=<securely-injected>
# VITE_S3_ENABLED=true
# VITE_AUTO_BACKUP_INTERVAL=60
# VITE_SENTRY_ENVIRONMENT=production

# ============================================
# üìä Monitoring Recommand√©
# ============================================

# Pour la production:
# 1. Sentry (Error Tracking)
#    - Alertes automatiques sur erreurs
#    - Historique des bugs
#    - Performance monitoring

# 2. Logs Centralis√©s
#    - Envoyer logs vers logstash/kibana
#    - Alertes sur logs d'erreur
#    - Archivage 90 jours minimum

# 3. Backup Monitoring
#    - V√©rifier succ√®s des backups S3
#    - Tester la restauration mensuellement
#    - Alerter si backup > 1h sans succ√®s

# 4. Security Scanning
#    - OWASP Top 10 audit annuel
#    - Dependency scanning (npm audit)
#    - Penetration testing pour donn√©es financi√®res

# ============================================
# üîê RGPD & Conformit√©
# ============================================

# Donn√©es stock√©es localement:
# ‚úÖ Clients
# ‚úÖ Factures
# ‚úÖ D√©penses
# ‚úÖ Produits/services
# ‚úÖ Audit logs

# Chiffrement au repos:
# ‚úÖ Cl√©s API (encryptionService)
# ‚úÖ Tokens d'authentification
# ‚ö†Ô∏è Donn√©es m√©tier (optionnel, √† √©valuer)

# Chiffrement en transit:
# ‚úÖ HTTPS/TLS obligatoire
# ‚úÖ Certificat valide & √† jour

# Suppression donn√©es (Droit √† l'oubli):
# ‚úÖ Soft delete les donn√©es utilisateur
# ‚úÖ Purger les backups apr√®s 90 jours
# ‚úÖ Logs d'audit: Conserver 7 ans (fiscal)

# ============================================
# üõ†Ô∏è CI/CD GitHub Actions
# ============================================

# Exemple de workflow pour injecter les secrets:

# .github/workflows/deploy.yml
# ---
# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#     env:
#       VITE_GEMINI_API_KEY: ${{ secrets.GEMINI_API_KEY }}
#       VITE_S3_ACCESS_KEY: ${{ secrets.S3_ACCESS_KEY }}
#       VITE_SENTRY_DSN: ${{ secrets.SENTRY_DSN }}
#     steps:
#       - uses: actions/checkout@v3
#       - name: Build
#         run: npm run build
#       - name: Deploy
#         run: npm run deploy
# ---

# ============================================
# üöÄ D√©ploiement Zero-Trust
# ============================================

# Principes:
# 1. Aucune confiance par d√©faut
# 2. Tout est logg√© et audit√©
# 3. Chiffrement toujours activ√©
# 4. Rotation r√©guli√®re des cl√©s
# 5. Access control bas√© sur les r√¥les (RBAC)

# Checklist avant mise en prod:
# [ ] Tous les tests passent (npm test)
# [ ] Validation TypeScript strict (npm run type-check)
# [ ] ESLint sans warnings (npm run lint)
# [ ] Build optimis√© (npm run build)
# [ ] Code review approuv√© (GitHub PRs)
# [ ] Security scan OK (OWASP, dependencies)
# [ ] Backup test√© et fonctionnel
# [ ] Logs centralis√©s configur√©s
# [ ] Sentry alerts configur√©es
# [ ] Documentation √† jour

# ============================================
# üìö Ressources
# ============================================

# Fichiers de r√©f√©rence:
# ‚Üí SECURITY.md                  (Politique s√©curit√© compl√®te)
# ‚Üí INTEGRATION_GUIDE.md        (Guide d'int√©gration des services)
# ‚Üí IMPROVEMENTS_PLAN.md        (Plan d'am√©lioration d√©taill√©)
# ‚Üí .env.example               (Configuration de base)

# Documentation officielle:
# ‚Üí https://vite.dev/guide/env-variables.html
# ‚Üí https://web.dev/security/
# ‚Üí https://owasp.org/www-project-top-ten/

# ============================================
# ‚úÖ Validation Finale
# ============================================

# Avant tout d√©ploiement:
# npm run validate    # type-check + lint + coverage
# npm run build       # Build optimization
# npm run preview     # Pr√©visualiser le build

# En production:
# - Monitoring actif 24/7
# - On-call rotation pour incidents
# - Plan de recovery en place
# - Tests de backup mensuels

# ============================================

# Derni√®re mise √† jour: 17 f√©vrier 2026
# Version: 1.0 - S√©curit√© & Configuration
